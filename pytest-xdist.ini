# pytest-xdist configuration for parallel test execution
# This file configures parallel test running to speed up the test suite

[tool:pytest]
# Default number of workers (auto-detect based on CPU cores)
# Can be overridden with -n flag
addopts =
    -n auto
    --dist worksteal  # Distribute tests dynamically for better load balancing

# Maximum number of workers
numprocesses = 4

# Disable parallel execution for certain tests that don't work well in parallel
# (tests that modify shared state, use specific ports, etc.)
# These will still run but sequentially
markers =
    no_parallel: marks tests that should not run in parallel
    slow: marks tests as slow (run these separately)
    network: marks tests that require network (may conflict in parallel)
    real: marks tests that perform real operations (may conflict)
